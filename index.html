<!DOCTYPE html>
<html lang="zh">
<head>
<meta charset="UTF-8">
<title>ç®€æ˜“è½¬ç›˜æŠ½å¥–</title>

<style>
body {
  font-family: Arial;
  text-align: center;
  margin-top: 50px;
}
#wheel-box {
  position: relative;
  width: 300px;
  height: 300px;
  margin: auto;
}
#wheel {
  width: 100%;
  height: 100%;
  border-radius: 50%;
  border: 6px solid #333;
  background: conic-gradient(
    #ff7675 0deg 90deg,
    #74b9ff 90deg 180deg,
    #55efc4 180deg 270deg,
    #ffeaa7 270deg 360deg
  );
  transition: transform 4s ease-out;
}
#pointer {
  position: absolute;
  top: -12px;
  left: 50%;
  transform: translateX(-50%);
  font-size: 30px;
}
button {
  margin-top: 30px;
  padding: 10px 30px;
  font-size: 16px;
}
</style>
</head>

<body>

<h2>ðŸŽ¡ è½¬ç›˜æŠ½å¥–</h2>

<div id="wheel-box">
  <div id="pointer">â–¼</div>
  <div id="wheel"></div>
</div>

<button id="spinBtn">å¼€å§‹æŠ½å¥–</button>

<script>
const prizes = [
  { name: "ä¸€ç­‰å¥–ï¼š25æ¬¾E300ä¸€å°", weight: 25 },
  { name: "äºŒç­‰å¥–ï¼šè‹¹æžœ17", weight: 20 },
  { name: "ä¸‰ç­‰å¥–ï¼šé¿å­•å¥—", weight: 80 },
  { name: "å››ç­‰å¥–ï¼š100çŽ°é‡‘", weight: 35 }
];

let rotating = false;
let currentAngle = 0;

const wheel = document.getElementById("wheel");
const btn = document.getElementById("spinBtn");

// æŒ‰æƒé‡æŠ½å¥–ï¼Œè¿”å›ž index
function drawIndexByWeight() {
  const total = prizes.reduce((sum, p) => sum + p.weight, 0);
  let rand = Math.random() * total;

  for (let i = 0; i < prizes.length; i++) {
    if (rand < prizes[i].weight) {
      return i;
    }
    rand -= prizes[i].weight;
  }
}

btn.addEventListener("click", function () {
  if (rotating) return;
  rotating = true;

  const index = drawIndexByWeight();
  const slice = 360 / prizes.length;

  // è½¬ 6 åœˆå†åœåœ¨ä¸­å¥–ä½ç½®
  const angle = 360 * 6 + (360 - index * slice - slice / 2);
  currentAngle += angle;

  wheel.style.transform = `rotate(${currentAngle}deg)`;

  setTimeout(() => {
    alert("ðŸŽ‰ ä½ æŠ½ä¸­äº†ï¼š" + prizes[index].name);
    rotating = false;
  }, 4000);
});
</script>


</body>
</html>




